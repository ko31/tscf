jQuery(document).ready(function(e){"use strict"}),angular.module("tscf",["ui.sortable"]),TSCF.template=function(e){"use strict";return this.endpoint.template+"&file="+e},angular.module("tscf").factory("ui",function(){"use strict";return{toggle:function(e){jQuery(e).toggleClass("toggle")}}}),angular.module("tscf").directive("tscfAlert",function(){"use strict";return{restrict:"E",replace:!1,scope:{errors:"="},templateUrl:TSCF.template("alert"),link:function(e,t,n){}}}),angular.module("tscf").controller("tscfEditor",["$scope","$http","$log",function(e,t,n){"use strict";e.index=0,e.settings=TSCF.settings,console.log(TSCF),e.errors=TSCF.errors,e.changeIndex=function(t){e.index=t},e.addGroup=function(){var t=e.settings.length+2;e.settings.push({name:"new_group_"+t,label:TSCF.new+" "+t,type:"post",post_types:[],context:"side",priority:"default",description:"",fields:[]})},e.saveFields=function(){t({method:"POST",url:TSCF.endpoint.save,data:e.settings}).then(function(e){console.log(e)},function(e){}).then(function(){})}}]),angular.module("tscf").directive("tscfField",["$http","$window","ui",function(e,t,n){"use strict";return{restrict:"E",replace:!0,scope:{groups:"=",i:"=",currentIndex:"="},templateUrl:TSCF.template("field"),link:function(i,s,o){i.postTypes=TSCF.postTypes,i.context=TSCF.context,i.priority=TSCF.priority,i.setting=i.groups[i.i],i.toggle=function(e){n.toggle(e)},i.changeCheckbox=function(){var e=[];jQuery("#post-type-field-"+i.i).find("input:checked").each(function(t,n){e.push(jQuery(n).val())}),i.groups[i.i].post_types=e},i.addField=function(){e({method:"GET",url:TSCF.endpoint.field+"&field=text"}).then(function(e){var t=e.data.field;t.type="text",i.groups[i.i].fields.push(t)},function(e){}).then(function(){})},i.removeField=function(){t.confirm(TSCF.message.delete)&&(i.i==i.currentIndex&&(i.currentIndex=0),i.groups.splice(i.i,1))}}}}]),angular.module("tscf").directive("tscfItems",["$http","$window","ui",function(e,t,n){"use strict";return{restrict:"E",replace:!0,scope:{fields:"=",i:"="},templateUrl:TSCF.template("items"),link:function(i,s,o){for(var r in i.cols=TSCF.cols,i.types=[],i.childTypes=[],i.toggle=function(e){n.toggle(e)},TSCF.types)if(TSCF.types.hasOwnProperty(r))switch(i.types.push({name:r,label:TSCF.types[r]}),r){case"iterator":break;default:i.childTypes.push({name:r,label:TSCF.types[r]})}function l(t){e({method:"GET",url:TSCF.endpoint.field+"&field="+i.fields[t].type}).then(function(e){var n=e.data.field;!function(e,t){for(var n in i.fields[e])"type"==n||t.hasOwnProperty(n)||delete i.fields[e][n];for(n in t)i.fields[e].hasOwnProperty(n)||(i.fields[e][n]=t[n])}(t,n)},function(e){}).then(function(){})}i.changeType=function(e){"custom"!=i.fields[e].type&&l(e)},i.move=function(e,t){var n=e+t,s=angular.copy(i.fields[n]);i.fields[n]=i.fields[e],i.fields[e]=s},i.removeField=function(e){t.confirm(TSCF.message.delete)&&i.fields.splice(e,1)},i.addChildField=function(e){i.fields[e].fields||(i.fields[e].fields=[]),i.fields[e].fields.push({name:"",label:"",type:"text"})}}}}]),angular.module("tscf").directive("tscfNav",function(){"use strict";return{restrict:"E",replace:!0,scope:{settings:"=",index:"="},templateUrl:TSCF.template("nav"),link:function(e,t,n){e.changeIndex=function(t){e.index=t}}}}),angular.module("tscf").directive("tscfOptions",function(){"use strict";return{restrict:"E",replace:!0,scope:{options:"=",hasKey:"@"},templateUrl:TSCF.template("options"),link:function(e,t,n){for(var i in e.value="",e.store=[],e.duplicated=!1,e.options)e.options.hasOwnProperty(i)&&e.store.push({value:i,label:e.options[i]});e.$watch("store",function(){var t={};e.duplicated=!1;for(var n=0,i=e.store.length;n<i;n++)t.hasOwnProperty(e.store[n].value)?e.duplicated=!0:t[e.store[n].value]=e.store[n].label;e.options=t},!0),e.add=function(){if(e.duplicated)return!1;e.store.push({value:e.value,label:""})},e.remove=function(t){e.store.splice(t,1)}}}});
//# sourceMappingURL=map/editor.js.map
